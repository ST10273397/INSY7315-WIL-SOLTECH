@using ElevatedTutors.ViewModel
@model StudentDashboardViewModel
@* 
    View: Dashboard.cshtml
    Folder: Student
    Purpose: Render the Dashboard page for Student controller.
    Notes: Updated for consistent layout, error handling, anti-forgery protection, and safe rendering.
*@

@* Begin model null-safety wrapper *@
@if (Model == null)
{
    <div class="alert alert-warning" role="alert">
        No data available to display.
    </div>
}
else
{


<h2>Student Dashboard</h2>

<div class="dashboard-container">
    <section>
        <h3>Your Classes</h3>
        @if (Model.Classes.Any())
        {
            <ul>
                @foreach (var c in Model.Classes)
                {
                    <li>
                        <strong>@c.SubjectName</strong><br />
                        @c.SubjectDesc
                    </li>
                }
            </ul>
        }
        else
        {
            <p>No subjects assigned yet.</p>
        }
    </section>

    <section>
        <h3>Upcoming Due Dates</h3>
        @if (Model.DueDates.Any())
        {
            <ul>
                @foreach (var s in Model.DueDates)
                {
                    <li>
                        <strong>@s.Title</strong> — @s.Subject.SubjectName
                        <br />Due: @s.UploadDate.ToShortDateString()
                    </li>
                }
            </ul>
        }
        else
        {
            <p>No submissions yet.</p>
        }
    </section>

    <section>
        <h3>Announcements</h3>
        <p>Coming soon...</p>
    </section>
</div>
}
@* End model wrapper *@
